{"version":3,"sources":["js/gallery-items.js","js/create-gallery.js"],"names":["preview","original","description","index","portfolioContainer","document","querySelector","cardsEl","createColorCardsMarkup","images","map","image","join","insertAdjacentHTML","lightBoxImg","closeBtnModal","lightBox","lightBoxOverlay","onPalletContainerClick","event","preventDefault","target","classList","contains","imgDataSource","dataset","source","imgAlt","getAttribute","src","alt","onOpenModalBtn","window","addEventListener","onEscKeyPress","onLeftRightKeyPress","add","onCloseModalBtn","removeEventListener","remove","onBackdropClick","code","length"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;AC+Gf,aA/GA,IAAA,EAAA,EAAA,QAAA,uBA+GA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7GA,IAGIC,EAHEC,EAAqBC,SAASC,cAAc,eAC5CC,EAAUC,EAAuBC,EAAD,SAItC,SAASD,EAAuBC,GACrBA,OAAAA,EAAOC,IAAI,SAACC,EAAOR,GAKdQ,MAAAA,0FAAAA,OAAAA,EAAMV,SAGPU,+DAAAA,OAAAA,EAAMX,QACEW,4BAAAA,OAAAA,EAAMV,SACdU,oBAAAA,OAAAA,EAAMT,YACCC,2BAAAA,OAAAA,EAVd,kDAeDS,KAAK,KApBZR,EAAmBS,mBAAmB,YAAaN,GAsBnD,IAAMO,EAAcT,SAASC,cAAc,oBACrCS,EAAgBV,SAASC,cAAc,gCACvCU,EAAWX,SAASC,cAAc,gBAClCW,EAAkBZ,SAASC,cAAc,sBAO/C,SAASY,EAAuBC,GAExB,GADJA,EAAMC,iBACDD,EAAME,OAAOC,UAAUC,SAAS,kBAAjC,CAGEC,IAAAA,EAAgBL,EAAME,OAAOI,QAAQC,OACrCC,EAASR,EAAME,OAAOO,aAAa,OACzCzB,GAASgB,EAAME,OAAOI,QAAQtB,MAC9BW,EAAYe,IAAML,EAClBV,EAAYgB,IAAMH,EAClBI,KAIJ,SAASA,IACLC,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,GACnCnB,EAASM,UAAUc,IAAI,WAG3B,SAASC,IACLL,OAAOM,oBAAoB,UAAWJ,GACtCF,OAAOM,oBAAoB,UAAWH,GACtCnB,EAASM,UAAUiB,OAAO,WAC1BzB,EAAYe,IAAM,GAClBf,EAAYgB,IAAM,GAGtB,SAASU,IACLH,IAGJ,SAASH,EAAcf,GACE,WACjBA,EAAMsB,MACNJ,IAIP,SAASF,EAAoBhB,GAER,eACbA,EAAMsB,OACFtC,IAAUM,EAAOiC,QAAAA,OAAS,EAC1BvC,EAAQ,EAERA,GAAS,EAEbW,EAAYe,IAAMpB,EAAON,QAAAA,GAAOF,UARpB,cAUZkB,EAAMsB,OACQ,IAAVtC,EACAA,EAAQM,EAAOiC,QAAAA,OAAS,EAExBvC,GAAS,EAEbW,EAAYe,IAAMpB,EAAON,QAAAA,GAAOF,UA7DzCG,EAAmB6B,iBAAiB,QAASf,GAC7Cd,EAAmB6B,iBAAiB,QAASF,GAC7ChB,EAAckB,iBAAiB,QAASI,GACxCpB,EAAgBgB,iBAAiB,QAASO","file":"create-gallery.ab831896.js","sourceRoot":"..","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];","import images from \"./gallery-items.js\"\r\n\r\nconst portfolioContainer = document.querySelector(\".js-gallery\");\r\nconst cardsEl = createColorCardsMarkup(images);\r\nportfolioContainer.insertAdjacentHTML('beforeend', cardsEl);\r\nlet index;\r\n\r\nfunction createColorCardsMarkup(images) {\r\n    return images.map((image, index) => {\r\n        return `\r\n    <li class=\"gallery__item\">\r\n    <a\r\n        class=\"gallery__link\"\r\n        href=\"${image.original}\"\r\n    ><img\r\n        class=\"gallery__image\"\r\n        src=\"${image.preview}\"\r\n        data-source=\"${image.original}\"\r\n        alt=\"${image.description}\"\r\n        data-index=\"${index}\"\r\n        />\r\n    </a>\r\n    </li>\r\n        `;\r\n    }).join(\" \");\r\n}\r\nconst lightBoxImg = document.querySelector('.lightbox__image');\r\nconst closeBtnModal = document.querySelector(\"[data-action=close-lightbox]\");\r\nconst lightBox = document.querySelector(\".js-lightbox\");\r\nconst lightBoxOverlay = document.querySelector(\".lightbox__overlay\");\r\n\r\nportfolioContainer.addEventListener('click', onPalletContainerClick);\r\nportfolioContainer.addEventListener('click', onOpenModalBtn);\r\ncloseBtnModal.addEventListener('click', onCloseModalBtn);\r\nlightBoxOverlay.addEventListener('click', onBackdropClick);\r\n\r\nfunction onPalletContainerClick(event) {\r\n    event.preventDefault();\r\n    if (!event.target.classList.contains('gallery__image')) {\r\n        return \r\n    }\r\n    const imgDataSource = event.target.dataset.source;\r\n    const imgAlt = event.target.getAttribute('alt');\r\n    index = +event.target.dataset.index;\r\n    lightBoxImg.src = imgDataSource;\r\n    lightBoxImg.alt = imgAlt;\r\n    onOpenModalBtn();\r\n    \r\n}\r\n\r\nfunction onOpenModalBtn() {\r\n    window.addEventListener('keydown', onEscKeyPress);\r\n    window.addEventListener('keydown', onLeftRightKeyPress);\r\n    lightBox.classList.add(\"is-open\");\r\n}\r\n\r\nfunction onCloseModalBtn() {\r\n    window.removeEventListener('keydown', onEscKeyPress);\r\n    window.removeEventListener('keydown', onLeftRightKeyPress);\r\n    lightBox.classList.remove(\"is-open\");\r\n    lightBoxImg.src = \"\";\r\n    lightBoxImg.alt = \"\";\r\n}\r\n\r\nfunction onBackdropClick() {\r\n    onCloseModalBtn();\r\n}\r\n\r\nfunction onEscKeyPress(event) {\r\n    const ESC_KEY_CODE = 'Escape';\r\n    if (event.code === ESC_KEY_CODE) {\r\n        onCloseModalBtn();\r\n    }\r\n}\r\n\r\n function onLeftRightKeyPress(event) {\r\n    const LEFT_KEY = 'ArrowLeft';\r\n    const RIGHT_KEY = 'ArrowRight';\r\n     if (event.code === RIGHT_KEY) {\r\n         if (index === images.length - 1) {\r\n             index = 0;\r\n         } else {\r\n             index += 1;\r\n          }\r\n         lightBoxImg.src = images[index].original;\r\n     }\r\n     if (event.code === LEFT_KEY) {\r\n         if (index === 0) {\r\n             index = images.length - 1;\r\n         } else {\r\n             index -= 1;\r\n          }\r\n         lightBoxImg.src = images[index].original;\r\n     } \r\n}\r\n\r\n    //                 Разбей задание на несколько подзадач:\r\n\r\n// -------Создание и рендер разметки по массиву данных и предоставленному шаблону.\r\n// -------Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\r\n// -------Открытие модального окна по клику на элементе галереи.\r\n// -------Подмена значения атрибута src элемента img.lightbox__image.\r\n// -------Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"].\r\n// -------Очистка значения атрибута src элемента img.lightbox__image.\r\n// -------Это необходимо для того, чтобы при следующем открытии модального окна,\r\n//               пока грузится изображение, мы не видели предыдущее.\r\n\r\n//                       Дополнительно\r\n\r\n// Закрытие модального окна по клику на div.lightbox__overlay.\r\n// Закрытие модального окна по нажатию клавиши ESC.\r\n// Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\"."]}